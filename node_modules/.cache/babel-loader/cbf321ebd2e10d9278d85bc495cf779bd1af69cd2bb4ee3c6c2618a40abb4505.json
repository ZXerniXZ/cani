{"ast":null,"code":"var _jsxFileName = \"/home/ares-desktop/localRepo/cani/mqtt-react-demo/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport mqtt from 'mqtt';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MQTT_BROKER = 'wss://test.mosquitto.org:8081';\nconst TOPIC = 'giardino/stato';\nconst FAMIGLIE = ['Rossi', 'Bianchi'];\nfunction formatDate(ts) {\n  const d = new Date(ts);\n  return d.toLocaleString();\n}\nfunction App() {\n  _s();\n  const [famiglia, setFamiglia] = useState('');\n  const [famigliaSelezionata, setFamigliaSelezionata] = useState(null);\n  const [stato, setStato] = useState(null);\n  const [conn, setConn] = useState('connecting');\n  const clientRef = useRef(null);\n\n  // Recupera la famiglia selezionata da localStorage all'avvio\n  useEffect(() => {\n    const salvata = localStorage.getItem('famiglia');\n    if (salvata) {\n      setFamigliaSelezionata(salvata);\n      setFamiglia(salvata);\n    }\n  }, []);\n  useEffect(() => {\n    const client = mqtt.connect(MQTT_BROKER);\n    clientRef.current = client;\n    client.on('connect', () => {\n      setConn('connected');\n      client.subscribe(TOPIC);\n    });\n    client.on('error', () => {\n      setConn('connecting'); // Riprova sempre\n    });\n    client.on('message', (topic, msg) => {\n      if (topic === TOPIC) {\n        try {\n          const data = JSON.parse(msg.toString());\n          if (data.stato && data.famiglia && data.timestamp) {\n            setStato(data);\n          }\n        } catch {}\n      }\n    });\n    return () => {\n      client.end();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const pubblicaStato = nuovoStato => {\n    if (clientRef.current && clientRef.current.connected && famigliaSelezionata) {\n      const payload = {\n        stato: nuovoStato,\n        famiglia: famigliaSelezionata,\n        timestamp: Date.now()\n      };\n      clientRef.current.publish(TOPIC, JSON.stringify(payload));\n      // Aggiornamento ottimistico locale\n      setStato(payload);\n    }\n  };\n  let boxColor = '#2ecc40';\n  let boxText = 'Giardino libero';\n  let infoText = '';\n  if (stato) {\n    if (stato.stato === 'occupato') {\n      boxColor = '#e74c3c';\n      boxText = 'Giardino occupato';\n      infoText = `Occupato da: ${stato.famiglia} dal ${formatDate(stato.timestamp)}`;\n    } else {\n      boxColor = '#2ecc40';\n      boxText = 'Giardino libero';\n      infoText = `Ultimo utilizzatore: ${stato.famiglia} (liberato il ${formatDate(stato.timestamp)})`;\n    }\n  }\n  if (conn !== 'connected') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 32,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative'\n          },\n          children: [\"Connessione al broker MQTT...\", /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 24,\n              fontSize: 18,\n              color: '#aaa'\n            },\n            children: \"Attendere...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Schermata di selezione famiglia\n  if (!famigliaSelezionata) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 28,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 32\n            },\n            children: \"Seleziona la tua famiglia:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: famiglia,\n            onChange: e => setFamiglia(e.target.value),\n            style: {\n              fontSize: 22,\n              marginBottom: 24\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"-- Scegli --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), FAMIGLIE.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: f,\n              children: f\n            }, f, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 34\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              fontSize: 20,\n              padding: '10px 24px'\n            },\n            disabled: !famiglia,\n            onClick: () => {\n              setFamigliaSelezionata(famiglia);\n              localStorage.setItem('famiglia', famiglia);\n            },\n            children: \"Conferma\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Gestione Giardino\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 24,\n          fontSize: 18,\n          color: '#fff'\n        },\n        children: [\"Famiglia selezionata: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: famigliaSelezionata\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 16,\n          marginBottom: 32\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            fontSize: 18,\n            padding: '10px 24px'\n          },\n          onClick: () => pubblicaStato('occupato'),\n          disabled: (stato === null || stato === void 0 ? void 0 : stato.stato) === 'occupato' && (stato === null || stato === void 0 ? void 0 : stato.famiglia) === famigliaSelezionata || (stato === null || stato === void 0 ? void 0 : stato.stato) === 'occupato' && (stato === null || stato === void 0 ? void 0 : stato.famiglia) !== famigliaSelezionata,\n          children: \"Occupa giardino\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            fontSize: 18,\n            padding: '10px 24px'\n          },\n          onClick: () => pubblicaStato('libero'),\n          disabled: !((stato === null || stato === void 0 ? void 0 : stato.stato) === 'occupato' && (stato === null || stato === void 0 ? void 0 : stato.famiglia) === famigliaSelezionata),\n          children: \"Libera giardino\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: boxColor,\n          color: '#fff',\n          borderRadius: 16,\n          width: 400,\n          height: 220,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 36,\n          fontWeight: 'bold',\n          margin: '0 auto',\n          boxShadow: '0 4px 24px #0006',\n          position: 'relative'\n        },\n        children: [boxText, /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            bottom: 18,\n            left: 0,\n            width: '100%',\n            textAlign: 'center',\n            fontSize: 18,\n            fontWeight: 'normal',\n            color: '#fff',\n            opacity: 0.95\n          },\n          children: infoText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 32,\n          fontSize: 16,\n          color: '#aaa'\n        },\n        children: [\"Stato MQTT: \", conn === 'connected' ? 'Connesso' : conn === 'connecting' ? 'Connessione...' : 'Errore']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"QEsdSiroZQhhoK8oDe/+HAGirDk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","mqtt","jsxDEV","_jsxDEV","MQTT_BROKER","TOPIC","FAMIGLIE","formatDate","ts","d","Date","toLocaleString","App","_s","famiglia","setFamiglia","famigliaSelezionata","setFamigliaSelezionata","stato","setStato","conn","setConn","clientRef","salvata","localStorage","getItem","client","connect","current","on","subscribe","topic","msg","data","JSON","parse","toString","timestamp","end","pubblicaStato","nuovoStato","connected","payload","now","publish","stringify","boxColor","boxText","infoText","className","children","style","background","color","borderRadius","width","height","display","flexDirection","alignItems","justifyContent","fontSize","fontWeight","margin","boxShadow","position","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","value","onChange","e","target","disabled","map","f","padding","onClick","setItem","gap","bottom","left","textAlign","opacity","_c","$RefreshReg$"],"sources":["/home/ares-desktop/localRepo/cani/mqtt-react-demo/src/App.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport mqtt, { MqttClient } from 'mqtt';\nimport './App.css';\n\nconst MQTT_BROKER = 'wss://test.mosquitto.org:8081';\nconst TOPIC = 'giardino/stato';\nconst FAMIGLIE = ['Rossi', 'Bianchi'];\n\ntype StatoGiardino = {\n  stato: 'libero' | 'occupato';\n  famiglia: string;\n  timestamp: number;\n};\n\nfunction formatDate(ts: number) {\n  const d = new Date(ts);\n  return d.toLocaleString();\n}\n\nfunction App() {\n  const [famiglia, setFamiglia] = useState<string>('');\n  const [famigliaSelezionata, setFamigliaSelezionata] = useState<string | null>(null);\n  const [stato, setStato] = useState<StatoGiardino | null>(null);\n  const [conn, setConn] = useState<'connecting' | 'connected' | 'error'>('connecting');\n  const clientRef = useRef<MqttClient | null>(null);\n\n  // Recupera la famiglia selezionata da localStorage all'avvio\n  useEffect(() => {\n    const salvata = localStorage.getItem('famiglia');\n    if (salvata) {\n      setFamigliaSelezionata(salvata);\n      setFamiglia(salvata);\n    }\n  }, []);\n\n  useEffect(() => {\n    const client = mqtt.connect(MQTT_BROKER);\n    clientRef.current = client;\n\n    client.on('connect', () => {\n      setConn('connected');\n      client.subscribe(TOPIC);\n    });\n    client.on('error', () => {\n      setConn('connecting'); // Riprova sempre\n    });\n    client.on('message', (topic, msg) => {\n      if (topic === TOPIC) {\n        try {\n          const data = JSON.parse(msg.toString());\n          if (data.stato && data.famiglia && data.timestamp) {\n            setStato(data);\n          }\n        } catch {}\n      }\n    });\n    return () => { client.end(); };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const pubblicaStato = (nuovoStato: 'libero' | 'occupato') => {\n    if (clientRef.current && clientRef.current.connected && famigliaSelezionata) {\n      const payload: StatoGiardino = {\n        stato: nuovoStato,\n        famiglia: famigliaSelezionata,\n        timestamp: Date.now(),\n      };\n      clientRef.current.publish(TOPIC, JSON.stringify(payload));\n      // Aggiornamento ottimistico locale\n      setStato(payload);\n    }\n  };\n\n  let boxColor = '#2ecc40';\n  let boxText = 'Giardino libero';\n  let infoText = '';\n  if (stato) {\n    if (stato.stato === 'occupato') {\n      boxColor = '#e74c3c';\n      boxText = 'Giardino occupato';\n      infoText = `Occupato da: ${stato.famiglia} dal ${formatDate(stato.timestamp)}`;\n    } else {\n      boxColor = '#2ecc40';\n      boxText = 'Giardino libero';\n      infoText = `Ultimo utilizzatore: ${stato.famiglia} (liberato il ${formatDate(stato.timestamp)})`;\n    }\n  }\n\n  if (conn !== 'connected') {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div style={{\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 32,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative',\n          }}>\n            Connessione al broker MQTT...\n            <div style={{ marginTop: 24, fontSize: 18, color: '#aaa' }}>Attendere...</div>\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n  // Schermata di selezione famiglia\n  if (!famigliaSelezionata) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div style={{\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 28,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative',\n          }}>\n            <div style={{ marginBottom: 32 }}>Seleziona la tua famiglia:</div>\n            <select\n              value={famiglia}\n              onChange={e => setFamiglia(e.target.value)}\n              style={{ fontSize: 22, marginBottom: 24 }}\n            >\n              <option value=\"\" disabled>-- Scegli --</option>\n              {FAMIGLIE.map(f => <option key={f} value={f}>{f}</option>)}\n            </select>\n            <button\n              style={{ fontSize: 20, padding: '10px 24px' }}\n              disabled={!famiglia}\n              onClick={() => {\n                setFamigliaSelezionata(famiglia);\n                localStorage.setItem('famiglia', famiglia);\n              }}\n            >\n              Conferma\n            </button>\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h2>Gestione Giardino</h2>\n        <div style={{ marginBottom: 24, fontSize: 18, color: '#fff' }}>\n          Famiglia selezionata: <b>{famigliaSelezionata}</b>\n        </div>\n        <div style={{ display: 'flex', gap: 16, marginBottom: 32 }}>\n          <button\n            style={{ fontSize: 18, padding: '10px 24px' }}\n            onClick={() => pubblicaStato('occupato')}\n            disabled={\n              (stato?.stato === 'occupato' && stato?.famiglia === famigliaSelezionata) ||\n              (stato?.stato === 'occupato' && stato?.famiglia !== famigliaSelezionata)\n            }\n          >\n            Occupa giardino\n          </button>\n          <button\n            style={{ fontSize: 18, padding: '10px 24px' }}\n            onClick={() => pubblicaStato('libero')}\n            disabled={\n              !(stato?.stato === 'occupato' && stato?.famiglia === famigliaSelezionata)\n            }\n          >\n            Libera giardino\n          </button>\n        </div>\n        <div style={{\n          background: boxColor,\n          color: '#fff',\n          borderRadius: 16,\n          width: 400,\n          height: 220,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: 36,\n          fontWeight: 'bold',\n          margin: '0 auto',\n          boxShadow: '0 4px 24px #0006',\n          position: 'relative',\n        }}>\n          {boxText}\n          <div style={{\n            position: 'absolute',\n            bottom: 18,\n            left: 0,\n            width: '100%',\n            textAlign: 'center',\n            fontSize: 18,\n            fontWeight: 'normal',\n            color: '#fff',\n            opacity: 0.95,\n          }}>\n            {infoText}\n          </div>\n        </div>\n        <div style={{ marginTop: 32, fontSize: 16, color: '#aaa' }}>\n          Stato MQTT: {conn === 'connected' ? 'Connesso' : conn === 'connecting' ? 'Connessione...' : 'Errore'}\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}