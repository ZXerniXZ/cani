{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import mqtt from'mqtt';import'./App.css';import{richiediPermessoNotifiche}from'./index';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MQTT_BROKER='wss://test.mosquitto.org:8081';const TOPIC='giardino/stato';const FAMIGLIE=['ermes-ben','raya','Visualizzatore'];const PUSH_SERVER_URL='https://cani-backend.onrender.com';function formatDate(ts){const d=new Date(ts);return d.toLocaleString();}function App(){const[famiglia,setFamiglia]=useState('');const[famigliaSelezionata,setFamigliaSelezionata]=useState(null);const[stato,setStato]=useState(null);const[conn,setConn]=useState('connecting');const[notificheAttive,setNotificheAttive]=useState(false);const clientRef=useRef(null);// Stato per mostrare il pulsante di sblocco dopo 20s\nconst[showUnlock,setShowUnlock]=React.useState(false);// Funzione per registrare la subscription push (ora prende la VAPID key dal backend)\nasync function registraPush(){if('serviceWorker'in navigator&&'PushManager'in window){const reg=await navigator.serviceWorker.ready;try{// Recupera la VAPID public key dal backend\nconst resp=await fetch(PUSH_SERVER_URL+'/vapidPublicKey');const data=await resp.json();const VAPID_PUBLIC_KEY=data.publicKey;const sub=await reg.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:urlBase64ToUint8Array(VAPID_PUBLIC_KEY)});// Invia la subscription al backend\nawait fetch(PUSH_SERVER_URL+'/subscribe',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(sub)});console.log('Push subscription inviata al backend:',JSON.stringify(sub));return true;}catch(e){console.warn('Push subscription error',e);return false;}}return false;}// Funzione per cancellare la subscription push\nasync function cancellaPush(){if('serviceWorker'in navigator&&'PushManager'in window){const reg=await navigator.serviceWorker.ready;try{const subscription=await reg.pushManager.getSubscription();if(subscription){// Notifica il backend della cancellazione\ntry{await fetch(PUSH_SERVER_URL+'/unsubscribe',{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({endpoint:subscription.endpoint})});}catch(e){console.warn('Errore notifica cancellazione al backend:',e);}await subscription.unsubscribe();console.log('Push subscription cancellata');return true;}}catch(e){console.warn('Push unsubscription error',e);}}return false;}// Funzione per gestire l'attivazione/disattivazione delle notifiche\nasync function toggleNotifiche(){if(!notificheAttive){// Attiva notifiche\nconst perm=await richiediPermessoNotifiche();if(perm==='granted'){const success=await registraPush();if(success){setNotificheAttive(true);localStorage.setItem('notificheAttive','true');}}}else{// Disattiva notifiche\nconst success=await cancellaPush();if(success){setNotificheAttive(false);localStorage.setItem('notificheAttive','false');}}}// Funzione di utilità per VAPID key\nfunction urlBase64ToUint8Array(base64String){const padding='='.repeat((4-base64String.length%4)%4);const base64=(base64String+padding).replace(/-/g,'+').replace(/_/g,'/');const rawData=window.atob(base64);const outputArray=new Uint8Array(rawData.length);for(let i=0;i<rawData.length;++i){outputArray[i]=rawData.charCodeAt(i);}return outputArray;}// Recupera la famiglia selezionata e lo stato notifiche da localStorage all'avvio\nuseEffect(()=>{const salvata=localStorage.getItem('famiglia');const notificheSalvate=localStorage.getItem('notificheAttive');if(salvata){setFamigliaSelezionata(salvata);setFamiglia(salvata);}if(notificheSalvate){setNotificheAttive(notificheSalvate==='true');}},[]);useEffect(()=>{const client=mqtt.connect(MQTT_BROKER);clientRef.current=client;client.on('connect',()=>{setConn('connected');client.subscribe(TOPIC);});client.on('error',()=>{setConn('connecting');// Riprova sempre\n});client.on('message',(topic,msg)=>{if(topic===TOPIC){try{const data=JSON.parse(msg.toString());if(data.stato&&data.famiglia&&data.timestamp){setStato(data);}}catch{}}});return()=>{client.end();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{if(conn==='connected'&&stato===null){const t=setTimeout(()=>setShowUnlock(true),20000);return()=>clearTimeout(t);}else{setShowUnlock(false);}},[conn,stato]);const pubblicaStato=nuovoStato=>{if(clientRef.current&&clientRef.current.connected&&famigliaSelezionata){const payload={stato:nuovoStato,famiglia:famigliaSelezionata,timestamp:Date.now()};clientRef.current.publish(TOPIC,JSON.stringify(payload),{retain:true});// Aggiornamento ottimistico locale\nsetStato(payload);}};let boxClass='giardino-card';let boxText='Giardino libero';let infoText='';if(stato){if(stato.stato==='occupato'){boxClass+=' occupato';boxText='Giardino occupato';infoText=`Occupato da: ${stato.famiglia} dal ${formatDate(stato.timestamp)}`;}else{boxText='Giardino libero';infoText=`Ultimo utilizzatore: ${stato.famiglia} (liberato il ${formatDate(stato.timestamp)})`;}}if(conn!=='connected'){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',color:'#fff',borderRadius:16,width:400,height:220,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',fontSize:32,fontWeight:'bold',margin:'0 auto',boxShadow:'0 4px 24px #0006',position:'relative'},children:[\"Connessione al broker MQTT...\",/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24,fontSize:18,color:'#aaa'},children:\"Attendere...\"})]})})});}// Schermata di caricamento stato giardino\nif(conn==='connected'&&stato===null){// Funzione per pubblicare uno stato iniziale retained\nconst pubblicaStatoIniziale=()=>{if(clientRef.current&&clientRef.current.connected){const payload={stato:'libero',famiglia:'iniziale',timestamp:Date.now()};clientRef.current.publish(TOPIC,JSON.stringify(payload),{retain:true});}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',color:'#fff',borderRadius:16,width:400,height:260,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',fontSize:28,fontWeight:'bold',margin:'0 auto',boxShadow:'0 4px 24px #0006',position:'relative'},children:[\"Recupero stato giardino...\",/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24,fontSize:18,color:'#aaa'},children:\"Attendere...\"}),showUnlock&&/*#__PURE__*/_jsx(\"button\",{style:{marginTop:32,fontSize:18},onClick:pubblicaStatoIniziale,children:\"Sblocca (pubblica stato iniziale)\"})]})})});}// Schermata di selezione famiglia\nif(!famigliaSelezionata){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',color:'#fff',borderRadius:16,width:400,height:220,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',fontSize:28,fontWeight:'bold',margin:'0 auto',boxShadow:'0 4px 24px #0006',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:32},children:\"Seleziona la tua famiglia:\"}),/*#__PURE__*/_jsxs(\"select\",{value:famiglia,onChange:e=>setFamiglia(e.target.value),style:{fontSize:22,marginBottom:24},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"-- Scegli --\"}),FAMIGLIE.map(f=>/*#__PURE__*/_jsx(\"option\",{value:f,children:f==='Visualizzatore'?'Visualizzatore (solo lettura)':f},f))]}),/*#__PURE__*/_jsx(\"button\",{style:{fontSize:20,padding:'10px 24px'},disabled:!famiglia,onClick:async()=>{setFamigliaSelezionata(famiglia);localStorage.setItem('famiglia',famiglia);},children:\"Conferma\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestione Giardino\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24,fontSize:18,color:'#fff'},children:[\"Famiglia selezionata: \",/*#__PURE__*/_jsx(\"b\",{children:famigliaSelezionata}),famigliaSelezionata==='Visualizzatore'&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:14,color:'#aaa',marginTop:8},children:\"Modalit\\xE0 solo visualizzazione\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:12,marginBottom:24,fontSize:16,color:'#fff',background:'#333',padding:'12px 16px',borderRadius:8},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Notifiche push:\"}),/*#__PURE__*/_jsxs(\"label\",{style:{position:'relative',display:'inline-block',width:50,height:24},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:notificheAttive,onChange:toggleNotifiche,style:{opacity:0,width:0,height:0}}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',cursor:'pointer',top:0,left:0,right:0,bottom:0,backgroundColor:notificheAttive?'#4CAF50':'#ccc',transition:'.4s',borderRadius:24},children:/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',content:'\"\"',height:18,width:18,left:3,bottom:3,backgroundColor:'white',transition:'.4s',borderRadius:'50%',transform:notificheAttive?'translateX(26px)':'translateX(0)'}})})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:14,color:'#aaa'},children:notificheAttive?'Attive':'Disattive'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:16,marginBottom:32},children:[/*#__PURE__*/_jsx(\"button\",{style:{fontSize:18,padding:'10px 24px'},onClick:()=>pubblicaStato('occupato'),disabled:famigliaSelezionata==='Visualizzatore'||(stato===null||stato===void 0?void 0:stato.stato)==='occupato'&&(stato===null||stato===void 0?void 0:stato.famiglia)===famigliaSelezionata||(stato===null||stato===void 0?void 0:stato.stato)==='occupato'&&(stato===null||stato===void 0?void 0:stato.famiglia)!==famigliaSelezionata,children:\"Occupa giardino\"}),/*#__PURE__*/_jsx(\"button\",{style:{fontSize:18,padding:'10px 24px'},onClick:()=>pubblicaStato('libero'),disabled:famigliaSelezionata==='Visualizzatore'||!((stato===null||stato===void 0?void 0:stato.stato)==='occupato'&&(stato===null||stato===void 0?void 0:stato.famiglia)===famigliaSelezionata),children:\"Libera giardino\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:boxClass,children:[boxText,/*#__PURE__*/_jsx(\"div\",{className:\"giardino-info\",children:infoText})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:32,fontSize:16,color:'#aaa'},children:[\"Stato MQTT: \",conn==='connected'?'Connesso':conn==='connecting'?'Connessione...':'Errore']})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useRef","useState","mqtt","richiediPermessoNotifiche","jsx","_jsx","jsxs","_jsxs","MQTT_BROKER","TOPIC","FAMIGLIE","PUSH_SERVER_URL","formatDate","ts","d","Date","toLocaleString","App","famiglia","setFamiglia","famigliaSelezionata","setFamigliaSelezionata","stato","setStato","conn","setConn","notificheAttive","setNotificheAttive","clientRef","showUnlock","setShowUnlock","registraPush","navigator","window","reg","serviceWorker","ready","resp","fetch","data","json","VAPID_PUBLIC_KEY","publicKey","sub","pushManager","subscribe","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","method","headers","body","JSON","stringify","console","log","e","warn","cancellaPush","subscription","getSubscription","endpoint","unsubscribe","toggleNotifiche","perm","success","localStorage","setItem","base64String","padding","repeat","length","base64","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","salvata","getItem","notificheSalvate","client","connect","current","on","topic","msg","parse","toString","timestamp","end","t","setTimeout","clearTimeout","pubblicaStato","nuovoStato","connected","payload","now","publish","retain","boxClass","boxText","infoText","className","children","style","background","color","borderRadius","width","height","display","flexDirection","alignItems","justifyContent","fontSize","fontWeight","margin","boxShadow","position","marginTop","pubblicaStatoIniziale","onClick","marginBottom","value","onChange","target","disabled","map","f","gap","type","checked","opacity","cursor","top","left","right","bottom","backgroundColor","transition","content","transform"],"sources":["/home/ares-desktop/localRepo/cani/mqtt-react-demo/src/App.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport mqtt, { MqttClient } from 'mqtt';\nimport './App.css';\nimport { richiediPermessoNotifiche } from './index';\n\nconst MQTT_BROKER = 'wss://test.mosquitto.org:8081';\nconst TOPIC = 'giardino/stato';\nconst FAMIGLIE = ['ermes-ben', 'raya', 'Visualizzatore'];\nconst PUSH_SERVER_URL = 'https://cani-backend.onrender.com';\n\ntype StatoGiardino = {\n  stato: 'libero' | 'occupato';\n  famiglia: string;\n  timestamp: number;\n};\n\nfunction formatDate(ts: number) {\n  const d = new Date(ts);\n  return d.toLocaleString();\n}\n\nfunction App() {\n  const [famiglia, setFamiglia] = useState<string>('');\n  const [famigliaSelezionata, setFamigliaSelezionata] = useState<string | null>(null);\n  const [stato, setStato] = useState<StatoGiardino | null>(null);\n  const [conn, setConn] = useState<'connecting' | 'connected' | 'error'>('connecting');\n  const [notificheAttive, setNotificheAttive] = useState<boolean>(false);\n  const clientRef = useRef<MqttClient | null>(null);\n  // Stato per mostrare il pulsante di sblocco dopo 20s\n  const [showUnlock, setShowUnlock] = React.useState(false);\n\n  // Funzione per registrare la subscription push (ora prende la VAPID key dal backend)\n  async function registraPush() {\n    if ('serviceWorker' in navigator && 'PushManager' in window) {\n      const reg = await navigator.serviceWorker.ready;\n      try {\n        // Recupera la VAPID public key dal backend\n        const resp = await fetch(PUSH_SERVER_URL + '/vapidPublicKey');\n        const data = await resp.json();\n        const VAPID_PUBLIC_KEY = data.publicKey;\n        const sub = await reg.pushManager.subscribe({\n          userVisibleOnly: true,\n          applicationServerKey: urlBase64ToUint8Array(VAPID_PUBLIC_KEY)\n        });\n        // Invia la subscription al backend\n        await fetch(PUSH_SERVER_URL + '/subscribe', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(sub)\n        });\n        console.log('Push subscription inviata al backend:', JSON.stringify(sub));\n        return true;\n      } catch (e) {\n        console.warn('Push subscription error', e);\n        return false;\n      }\n    }\n    return false;\n  }\n\n  // Funzione per cancellare la subscription push\n  async function cancellaPush() {\n    if ('serviceWorker' in navigator && 'PushManager' in window) {\n      const reg = await navigator.serviceWorker.ready;\n      try {\n        const subscription = await reg.pushManager.getSubscription();\n        if (subscription) {\n          // Notifica il backend della cancellazione\n          try {\n            await fetch(PUSH_SERVER_URL + '/unsubscribe', {\n              method: 'DELETE',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ endpoint: subscription.endpoint })\n            });\n          } catch (e) {\n            console.warn('Errore notifica cancellazione al backend:', e);\n          }\n          \n          await subscription.unsubscribe();\n          console.log('Push subscription cancellata');\n          return true;\n        }\n      } catch (e) {\n        console.warn('Push unsubscription error', e);\n      }\n    }\n    return false;\n  }\n\n  // Funzione per gestire l'attivazione/disattivazione delle notifiche\n  async function toggleNotifiche() {\n    if (!notificheAttive) {\n      // Attiva notifiche\n      const perm = await richiediPermessoNotifiche();\n      if (perm === 'granted') {\n        const success = await registraPush();\n        if (success) {\n          setNotificheAttive(true);\n          localStorage.setItem('notificheAttive', 'true');\n        }\n      }\n    } else {\n      // Disattiva notifiche\n      const success = await cancellaPush();\n      if (success) {\n        setNotificheAttive(false);\n        localStorage.setItem('notificheAttive', 'false');\n      }\n    }\n  }\n\n  // Funzione di utilità per VAPID key\n  function urlBase64ToUint8Array(base64String: string) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n\n  // Recupera la famiglia selezionata e lo stato notifiche da localStorage all'avvio\n  useEffect(() => {\n    const salvata = localStorage.getItem('famiglia');\n    const notificheSalvate = localStorage.getItem('notificheAttive');\n    if (salvata) {\n      setFamigliaSelezionata(salvata);\n      setFamiglia(salvata);\n    }\n    if (notificheSalvate) {\n      setNotificheAttive(notificheSalvate === 'true');\n    }\n  }, []);\n\n  useEffect(() => {\n    const client = mqtt.connect(MQTT_BROKER);\n    clientRef.current = client;\n\n    client.on('connect', () => {\n      setConn('connected');\n      client.subscribe(TOPIC);\n    });\n    client.on('error', () => {\n      setConn('connecting'); // Riprova sempre\n    });\n    client.on('message', (topic, msg) => {\n      if (topic === TOPIC) {\n        try {\n          const data = JSON.parse(msg.toString());\n          if (data.stato && data.famiglia && data.timestamp) {\n            setStato(data);\n          }\n        } catch {}\n      }\n    });\n    return () => { client.end(); };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (conn === 'connected' && stato === null) {\n      const t = setTimeout(() => setShowUnlock(true), 20000);\n      return () => clearTimeout(t);\n    } else {\n      setShowUnlock(false);\n    }\n  }, [conn, stato]);\n\n  const pubblicaStato = (nuovoStato: 'libero' | 'occupato') => {\n    if (clientRef.current && clientRef.current.connected && famigliaSelezionata) {\n      const payload: StatoGiardino = {\n        stato: nuovoStato,\n        famiglia: famigliaSelezionata,\n        timestamp: Date.now(),\n      };\n      clientRef.current.publish(TOPIC, JSON.stringify(payload), { retain: true });\n      // Aggiornamento ottimistico locale\n      setStato(payload);\n    }\n  };\n\n  let boxClass = 'giardino-card';\n  let boxText = 'Giardino libero';\n  let infoText = '';\n  if (stato) {\n    if (stato.stato === 'occupato') {\n      boxClass += ' occupato';\n      boxText = 'Giardino occupato';\n      infoText = `Occupato da: ${stato.famiglia} dal ${formatDate(stato.timestamp)}`;\n    } else {\n      boxText = 'Giardino libero';\n      infoText = `Ultimo utilizzatore: ${stato.famiglia} (liberato il ${formatDate(stato.timestamp)})`;\n    }\n  }\n\n  if (conn !== 'connected') {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div style={{\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 32,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative',\n          }}>\n            Connessione al broker MQTT...\n            <div style={{ marginTop: 24, fontSize: 18, color: '#aaa' }}>Attendere...</div>\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n  // Schermata di caricamento stato giardino\n  if (conn === 'connected' && stato === null) {\n    // Funzione per pubblicare uno stato iniziale retained\n    const pubblicaStatoIniziale = () => {\n      if (clientRef.current && clientRef.current.connected) {\n        const payload = {\n          stato: 'libero',\n          famiglia: 'iniziale',\n          timestamp: Date.now(),\n        };\n        clientRef.current.publish(TOPIC, JSON.stringify(payload), { retain: true });\n      }\n    };\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div style={{\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 260,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 28,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative',\n          }}>\n            Recupero stato giardino...\n            <div style={{ marginTop: 24, fontSize: 18, color: '#aaa' }}>Attendere...</div>\n            {showUnlock && (\n              <button style={{ marginTop: 32, fontSize: 18 }} onClick={pubblicaStatoIniziale}>\n                Sblocca (pubblica stato iniziale)\n              </button>\n            )}\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n  // Schermata di selezione famiglia\n  if (!famigliaSelezionata) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div style={{\n            background: '#222',\n            color: '#fff',\n            borderRadius: 16,\n            width: 400,\n            height: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: 28,\n            fontWeight: 'bold',\n            margin: '0 auto',\n            boxShadow: '0 4px 24px #0006',\n            position: 'relative',\n          }}>\n            <div style={{ marginBottom: 32 }}>Seleziona la tua famiglia:</div>\n            <select\n              value={famiglia}\n              onChange={e => setFamiglia(e.target.value)}\n              style={{ fontSize: 22, marginBottom: 24 }}\n            >\n              <option value=\"\" disabled>-- Scegli --</option>\n              {FAMIGLIE.map(f => (\n                <option key={f} value={f}>\n                  {f === 'Visualizzatore' ? 'Visualizzatore (solo lettura)' : f}\n                </option>\n              ))}\n            </select>\n            <button\n              style={{ fontSize: 20, padding: '10px 24px' }}\n              disabled={!famiglia}\n              onClick={async () => {\n                setFamigliaSelezionata(famiglia);\n                localStorage.setItem('famiglia', famiglia);\n              }}\n            >\n              Conferma\n            </button>\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h2>Gestione Giardino</h2>\n        <div style={{ marginBottom: 24, fontSize: 18, color: '#fff' }}>\n          Famiglia selezionata: <b>{famigliaSelezionata}</b>\n          {famigliaSelezionata === 'Visualizzatore' && (\n            <div style={{ fontSize: 14, color: '#aaa', marginTop: 8 }}>\n              Modalità solo visualizzazione\n            </div>\n          )}\n        </div>\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center', \n          gap: 12, \n          marginBottom: 24, \n          fontSize: 16, \n          color: '#fff',\n          background: '#333',\n          padding: '12px 16px',\n          borderRadius: 8\n        }}>\n          <span>Notifiche push:</span>\n          <label style={{ \n            position: 'relative', \n            display: 'inline-block', \n            width: 50, \n            height: 24 \n          }}>\n            <input\n              type=\"checkbox\"\n              checked={notificheAttive}\n              onChange={toggleNotifiche}\n              style={{ \n                opacity: 0, \n                width: 0, \n                height: 0 \n              }}\n            />\n            <span style={{\n              position: 'absolute',\n              cursor: 'pointer',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: notificheAttive ? '#4CAF50' : '#ccc',\n              transition: '.4s',\n              borderRadius: 24,\n            }}>\n              <span style={{\n                position: 'absolute',\n                content: '\"\"',\n                height: 18,\n                width: 18,\n                left: 3,\n                bottom: 3,\n                backgroundColor: 'white',\n                transition: '.4s',\n                borderRadius: '50%',\n                transform: notificheAttive ? 'translateX(26px)' : 'translateX(0)'\n              }} />\n            </span>\n          </label>\n          <span style={{ fontSize: 14, color: '#aaa' }}>\n            {notificheAttive ? 'Attive' : 'Disattive'}\n          </span>\n        </div>\n        <div style={{ display: 'flex', gap: 16, marginBottom: 32 }}>\n          <button\n            style={{ fontSize: 18, padding: '10px 24px' }}\n            onClick={() => pubblicaStato('occupato')}\n            disabled={\n              famigliaSelezionata === 'Visualizzatore' ||\n              (stato?.stato === 'occupato' && stato?.famiglia === famigliaSelezionata) ||\n              (stato?.stato === 'occupato' && stato?.famiglia !== famigliaSelezionata)\n            }\n          >\n            Occupa giardino\n          </button>\n          <button\n            style={{ fontSize: 18, padding: '10px 24px' }}\n            onClick={() => pubblicaStato('libero')}\n            disabled={\n              famigliaSelezionata === 'Visualizzatore' ||\n              !(stato?.stato === 'occupato' && stato?.famiglia === famigliaSelezionata)\n            }\n          >\n            Libera giardino\n          </button>\n        </div>\n        <div className={boxClass}>\n          {boxText}\n          <div className=\"giardino-info\">{infoText}</div>\n        </div>\n        <div style={{ marginTop: 32, fontSize: 16, color: '#aaa' }}>\n          Stato MQTT: {conn === 'connected' ? 'Connesso' : conn === 'connecting' ? 'Connessione...' : 'Errore'}\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}